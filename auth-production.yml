management:
  zipkin:
    tracing:
      endpoint:  http://zipkin:9411/api/v2/spans
    sampling:
      probability: 1.0
spring:
  datasource:
    url: jdbc:mariadb://database:3306/auth
    username: root
    password: R0Oto!
    driver-class-name: org.mariadb.jdbc.Driver
  flyway:
    enabled: true
    locations: classpath:migrations
    baseline-on-migrate: true
    validate-on-migrate: true
  security:
    oauth2:
      client:
        registration:
          eve:
            provider: eve
            client-id: ce5130b598044f9dba2d25e3d6f6ae46
            client-secret: LUb54kn9NHrBh9uL0SNYpa7mw8iDcO19cDXNQoBP
            authorization-grant-type: authorization_code
            redirect-uri: "{baseUrl}/login/oauth2/code/eve"
            scope:
              - publicData
        provider:
          eve:
            authorization-uri: https://login.eveonline.com/v2/oauth/authorize
            token-uri: https://login.eveonline.com/v2/oauth/token
            jwk-set-uri: https://login.eveonline.com/oauth/jwks
            user-info-uri: "nope"
      authorizationserver:
        issuer: https://auth.mrakaki.com
        client:
          buyback_frontend:
            registration:
              client-id: buyback_frontend
              client-secret: "{noop}secret"
              client-name: Frontend client
              client-authentication-methods:
                - client_secret_basic
              authorization-grant-types:
                - authorization_code
                - refresh_token
                - client_credentials
              redirect-uris:
                - https://buyback.mrakaki.com/login/oauth2/code/buyback_frontend-oidc
                - https://buyback.mrakaki.com/authorized
              scopes:
                - "openid"
                - "profile"
rsa:
  key-id: 7e5e1f47-35d4-4b3b-a4c8-0a3f0bc8bf9c
  private-key: classpath:certs/private.pem
  public-key: classpath:certs/public.pem